pack:
  name: default_governance
  version: 2.0.0
  description: Baseline policy checks for DuckCodeModeling repositories.

policies:
  - id: ENTITY_TAG_BASELINE
    type: require_entity_tags
    severity: warn
    params:
      tags: [GOLD, SILVER, BRONZE]
      mode: any

  - id: FIELD_DESCRIPTION_REQUIRED
    type: require_field_descriptions
    severity: warn
    params:
      exempt_primary_key: true

  - id: SENSITIVE_CLASSIFICATION_REQUIRED
    type: classification_required_for_tags
    severity: error
    params:
      field_tags: [PII, PCI]
      field_name_regex: "(^email$|^phone$|^ssn$|_token$)"
      allowed_classifications: [PII, PCI, CONFIDENTIAL]

  - id: NAMING_CONVENTION_BASELINE
    type: naming_convention
    severity: warn
    params:
      entity_pattern: "^[A-Z][a-zA-Z0-9]*$"
      field_pattern: "^[a-z][a-z0-9_]*$"

  - id: REQUIRE_OWNER_BASELINE
    type: require_owner
    severity: warn
    params:
      entity_types: [table]

  - id: DEPRECATION_CHECK
    type: deprecation_check
    severity: warn
    params:
      require_message: true
      check_references: true
